<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>ç¹ç››ã®å³è…• | Ultimate</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;700;900&family=Shippori+Mincho:wght@600;800&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        /* --- å¤‰æ•°å®šç¾© (Ultimate Theme) --- */
        :root {
            /* Dark Mode (Default) */
            --bg-body-grad: linear-gradient(to bottom, #11141c, #000000);
            --bg-glass: rgba(20, 24, 35, 0.85);
            --bg-glass-border: rgba(255, 255, 255, 0.08);
            --bg-input: #050505;
            --bg-input-border: #222;
            
            /* Theme Color (Gold Default) */
            --primary-color: #C5A059;
            --primary-gradient: linear-gradient(135deg, #EBD197, #C5A059, #967838);
            
            --text-main: #FFFFFF;
            --text-sub: #e0e0e0;
            --text-muted: #8892b0;
            
            --glass-blur: blur(16px);
            --shadow-float: 0 10px 40px rgba(0, 0, 0, 0.6);
            --shadow-card: 0 4px 20px rgba(0,0,0,0.2);
            
            --safe-bottom: env(safe-area-inset-bottom);
            --radius-L: 20px;
            --radius-M: 14px;
        }

        /* Light Mode Override */
        body.light-mode {
            --bg-body-grad: linear-gradient(to bottom, #f3f4f6, #e5e7eb);
            --bg-glass: rgba(255, 255, 255, 0.95);
            --bg-glass-border: rgba(0, 0, 0, 0.05);
            --bg-input: #ffffff;
            --bg-input-border: #ddd;
            
            --text-main: #1a1a1a;
            --text-sub: #374151;
            --text-muted: #6b7280;
            
            --shadow-float: 0 10px 30px rgba(0, 0, 0, 0.15);
            --shadow-card: 0 4px 15px rgba(0,0,0,0.05);
        }

        /* --- åŸºæœ¬ãƒªã‚»ãƒƒãƒˆ & Body --- */
        * { box-sizing: border-box; margin: 0; padding: 0; -webkit-tap-highlight-color: transparent; outline: none; user-select: none; }
        input, textarea, select { user-select: text; }
        html, body { height: 100%; overflow: hidden; }
        
        body {
            font-family: 'Noto Sans JP', sans-serif;
            background: var(--bg-body-grad);
            color: var(--text-main);
            display: flex; flex-direction: column;
            transition: background 0.5s, color 0.3s;
        }

        /* --- UI Components --- */
        .glass-panel {
            background: var(--bg-glass);
            backdrop-filter: var(--glass-blur); -webkit-backdrop-filter: var(--glass-blur);
            border: 1px solid var(--bg-glass-border);
            border-radius: var(--radius-L);
            box-shadow: var(--shadow-card);
            overflow: hidden;
            transition: 0.3s;
        }

        .touch-feedback:active { transform: scale(0.96); opacity: 0.8; }

        /* --- ãƒ˜ãƒƒãƒ€ãƒ¼ (Updated Design) --- */
        header {
            padding: 12px 15px;
            padding-top: max(12px, env(safe-area-inset-top));
            background: var(--bg-glass);
            backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px);
            border-bottom: 1px solid var(--bg-glass-border);
            display: flex; 
            justify-content: space-between;
            align-items: center;
            z-index: 100;
            box-shadow: 0 2px 20px rgba(0,0,0,0.1);
        }
        
        /* å·¦å´ï¼šãƒ­ã‚´ã¨ã‚¿ã‚¤ãƒˆãƒ« */
        .header-brand {
            display: flex;
            align-items: center;
            gap: 12px;
            flex: 1;
            min-width: 0; /* ãƒ•ãƒ¬ãƒƒã‚¯ã‚¹ã‚¢ã‚¤ãƒ†ãƒ ã®ç¸®å°è¨±å¯ */
        }

        .header-logo-img {
            height: 40px;
            width: auto;
            border-radius: 4px;
            /* ç”»åƒãŒãªã„å ´åˆã®ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ç”¨ã‚¹ã‚¿ã‚¤ãƒ« */
            background: #fff; 
            object-fit: contain;
        }

        .header-titles {
            display: flex;
            flex-direction: column;
            justify-content: center;
            min-width: 0;
        }

        .app-title-main {
            font-family: 'Shippori Mincho', serif;
            font-weight: 800;
            font-size: 1.1rem;
            letter-spacing: 0.05em;
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 2px 10px rgba(197, 160, 89, 0.2);
            line-height: 1.1;
            white-space: nowrap;
        }

        .app-catch-copy {
            font-family: 'Noto Sans JP', sans-serif;
            font-size: 0.55rem;
            color: var(--text-muted);
            font-weight: 500;
            margin-top: 3px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        /* å³å´ï¼šåº—åã¨ãƒœã‚¿ãƒ³ */
        .header-controls {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-left: 10px;
            flex-shrink: 0;
        }

        .header-shop-name {
            font-size: 0.8rem;
            font-weight: bold;
            color: var(--text-main);
            max-width: 100px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            text-align: right;
        }

        .header-btn {
            background: transparent; border: none;
            color: var(--text-muted); width: 36px; height: 36px; border-radius: 50%;
            cursor: pointer; font-size: 1.1rem; transition: 0.2s;
            display: flex; align-items: center; justify-content: center;
            border: 1px solid var(--bg-glass-border);
        }
        .header-btn:active { color: var(--primary-color); border-color: var(--primary-color); }

        /* --- ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ --- */
        main {
            flex: 1; overflow-y: auto; padding: 20px;
            padding-bottom: calc(90px + var(--safe-bottom));
            scroll-behavior: smooth;
        }

        /* AIã‚³ãƒ³ã‚·ã‚§ãƒ«ã‚¸ãƒ¥ */
        .concierge-area {
            margin-bottom: 25px;
            text-align: left;
            padding: 0 5px;
        }
        .greeting-sub { font-size: 0.75rem; color: var(--primary-color); font-weight: bold; letter-spacing: 0.05em; margin-bottom: 4px; display:block; }
        .greeting-main { font-size: 1.2rem; font-weight: 700; letter-spacing: 0.02em; line-height: 1.4; }
        
        h2.section-head {
            font-size: 1rem; color: var(--text-muted); margin-bottom: 12px; margin-top: 10px;
            font-weight: 700; display: flex; align-items: center; gap: 8px;
            letter-spacing: 0.05em;
        }
        h2.section-head::after { content:''; flex:1; height:1px; background: var(--bg-glass-border); }

        /* Step Badge */
        .step-badge {
            display: inline-flex; align-items: center; justify-content: center;
            width: 22px; height: 22px; background: var(--primary-gradient);
            color: #000; border-radius: 50%; font-size: 0.75rem; font-weight: 900;
            margin-right: 2px;
        }

        /* --- SNS Tab --- */
        .tone-selector {
            display: flex; background: var(--bg-input); padding: 4px; border-radius: 50px;
            border: 1px solid var(--bg-glass-border); margin-bottom: 20px;
        }
        .tone-btn {
            flex: 1; text-align: center; padding: 10px 0; border-radius: 40px;
            font-size: 0.85rem; font-weight: bold; color: var(--text-muted); transition: 0.3s;
            cursor: pointer;
        }
        .tone-btn.active {
            background: var(--primary-gradient); color: #000;
            box-shadow: 0 2px 10px rgba(0,0,0,0.15);
        }

        .sns-chips-wrap {
            display: flex; gap: 10px; overflow-x: auto; padding-bottom: 10px; margin-bottom: 10px;
            scrollbar-width: none;
        }
        .sns-chips-wrap::-webkit-scrollbar { display: none; }
        
        .sns-chip {
            flex-shrink: 0; padding: 10px 18px; border-radius: 12px;
            background: rgba(255,255,255,0.03); border: 1px solid var(--bg-glass-border);
            color: var(--text-sub); font-size: 0.85rem; font-weight: 600;
            display: flex; align-items: center; gap: 6px; transition: 0.2s;
        }
        .light-mode .sns-chip { background: rgba(0,0,0,0.03); border-color: rgba(0,0,0,0.05); }

        .sns-chip.active {
            border-color: var(--primary-color); color: #fff; background: var(--primary-color);
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        /* SNS Brand Colors Overrides */
        .sns-chip[data-sns="instagram"].active { background: linear-gradient(45deg, #f09433, #e6683c, #dc2743, #cc2366, #bc1888); border:none; }
        .sns-chip[data-sns="line"].active { background: #06C755; border:none; }
        .sns-chip[data-sns="facebook"].active { background: #1877F2; border:none; }
        .sns-chip[data-sns="x"].active { background: #000; border:none; }

        /* Smart Grid */
        .smart-grid {
            display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px; margin-bottom: 25px;
        }
        .smart-btn {
            background: var(--bg-glass);
            border: 1px solid var(--bg-glass-border);
            border-radius: var(--radius-M); padding: 18px;
            display: flex; flex-direction: column; justify-content: space-between;
            min-height: 110px; transition: 0.2s; position: relative; overflow: hidden;
            box-shadow: var(--shadow-card);
        }
        .smart-btn.active-rec { border: 1px solid var(--primary-color); box-shadow: 0 0 15px rgba(197, 160, 89, 0.2); } 
        
        .smart-btn-icon { font-size: 1.8rem; margin-bottom: 10px; color: var(--text-sub); transition:0.3s;}
        .smart-btn.active-rec .smart-btn-icon { color: var(--primary-color); }
        .smart-btn-label { font-size: 0.95rem; font-weight: bold; z-index: 1; color: var(--text-main); }
        .smart-btn-sub { font-size: 0.75rem; color: var(--text-muted); margin-top: 4px; z-index: 1; }

        /* Seasonal Select */
        .seasonal-container { margin-bottom: 25px; }
        .seasonal-label { font-size: 0.75rem; color: var(--text-muted); margin-bottom: 8px; padding-left: 5px; }
        .seasonal-row { display: grid; grid-template-columns: 1fr 1.5fr; gap: 10px; }
        .seasonal-select {
            width: 100%; padding: 12px; border-radius: 12px; font-size: 0.95rem;
            background: var(--bg-input); color: var(--text-main);
            border: 1px solid var(--bg-input-border);
            appearance: none; -webkit-appearance: none;
            background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%238892b0' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");
            background-repeat: no-repeat; background-position: right 10px center; background-size: 16px;
        }
        .seasonal-select:focus { border-color: var(--primary-color); outline: none; }

        /* Result Area */
        .preview-area { position: relative; margin-top: 10px; margin-bottom: 30px; }
        .preview-box {
            width: 100%; min-height: 300px;
            background: var(--bg-input); 
            border: 1px solid var(--bg-input-border);
            border-radius: var(--radius-M); padding: 20px; font-size: 1rem; line-height: 1.7;
            color: var(--text-main); resize: none; font-family: sans-serif;
            transition: 0.3s;
        }
        .preview-box:focus { border-color: var(--primary-color); }

        /* Photo Tips */
        .tips-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px; }
        .tip-card {
            background: var(--bg-glass); border: 1px solid var(--bg-glass-border);
            border-radius: var(--radius-M); padding: 18px;
            cursor: pointer; transition: 0.2s;
        }
        .tip-card:active { transform: scale(0.98); opacity: 0.9; }
        .tip-title { 
            font-weight: 800; color: var(--text-main); 
            display: flex; align-items: center; gap: 8px; 
            font-size: 1.1rem; margin-bottom: 8px; 
        }
        .tip-title i { color: var(--primary-color); font-size: 1.2rem; }
        .tip-desc { 
            font-size: 0.95rem; color: var(--text-sub); line-height: 1.8; 
            display: none; margin-top: 12px; padding-top: 12px; 
            border-top: 1px dashed var(--bg-glass-border);
        }
        .tip-card.open .tip-desc { display: block; animation: fadeIn 0.3s; }
        @keyframes fadeIn { from {opacity:0;} to {opacity:1;} }

        /* Floating Copy Button */
        .fab-copy {
            position: fixed; bottom: calc(90px + var(--safe-bottom)); right: 20px;
            background: var(--primary-gradient); color: #000;
            padding: 16px 32px; border-radius: 50px; border: none;
            font-weight: 800; font-size: 0.95rem; letter-spacing: 0.05em;
            box-shadow: var(--shadow-float); z-index: 50;
            display: flex; align-items: center; gap: 10px;
            transform: translateY(0); transition: 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
        }
        .fab-copy:active { transform: scale(0.92); }
        .fab-copy.hide { transform: translateY(150%); opacity: 0; }

        /* Info Card & Accordions */
        .info-card {
            background: var(--bg-glass);
            border: 1px solid var(--bg-glass-border);
            border-radius: var(--radius-L); padding: 22px; margin-bottom: 20px;
            box-shadow: var(--shadow-card);
        }
        .card-head { display: flex; align-items: center; gap: 10px; color: var(--primary-color); font-weight: bold; margin-bottom: 15px; font-size: 1rem; }
        
        .quest-box {
            text-align: center; padding: 30px 10px; border: 1px dashed var(--bg-glass-border); border-radius: var(--radius-M);
            background: rgba(0,0,0,0.03); margin-bottom: 20px; color: var(--text-main);
        }
        .quest-text { font-size: 1.3rem; font-weight: 900; line-height: 1.5; min-height: 3em; display: flex; align-items: center; justify-content: center; }

        .accordion-item { border-bottom: 1px solid var(--bg-glass-border); }
        .accordion-btn {
            width: 100%; text-align: left; padding: 18px 0; background: none; border: none;
            color: var(--text-main); font-weight: 600; font-size: 0.95rem; display: flex; justify-content: space-between; align-items: center;
        }
        .accordion-btn::after { content: '+'; font-size: 1.2rem; color: var(--text-muted); font-weight: 300; }
        .accordion-btn.open::after { content: '-'; color: var(--primary-color); }
        .accordion-content { display: none; padding-bottom: 20px; color: var(--text-muted); line-height: 1.6; font-size: 0.9rem; }

        /* Hints Category Chips */
        .hint-cats {
            display: flex; gap: 8px; overflow-x: auto; padding-bottom: 15px; margin-bottom: 10px;
            scrollbar-width: none;
        }
        .hint-cats::-webkit-scrollbar { display: none; }
        
        .hint-cat-chip {
            padding: 8px 16px; border-radius: 20px; background: rgba(255,255,255,0.05);
            color: var(--text-muted); font-size: 0.8rem; font-weight: bold; white-space: nowrap;
            border: 1px solid var(--bg-glass-border); cursor: pointer; transition: 0.2s;
        }
        .hint-cat-chip.active {
            background: var(--primary-color); color: #fff; border-color: var(--primary-color);
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
        }
        .light-mode .hint-cat-chip { background: rgba(0,0,0,0.05); }

        /* Hints List */
        .hint-list-container { display: flex; flex-direction: column; gap: 10px; }
        .hint-item {
            background: var(--bg-input); border: 1px solid var(--bg-glass-border);
            border-radius: 12px; overflow: hidden; animation: fadeIn 0.4s;
        }
        .hint-head {
            padding: 15px; cursor: pointer; display: flex; align-items: center; justify-content: space-between;
            font-weight: 600; color: var(--text-main); font-size: 0.95rem;
        }
        .hint-head-left { display: flex; align-items: center; gap: 10px; }
        .hint-icon { color: var(--primary-color); width: 20px; text-align: center; }
        .hint-body {
            padding: 0 15px 15px 15px; color: var(--text-sub); font-size: 0.9rem; line-height: 1.7; display: none;
            border-top: 1px dashed var(--bg-glass-border); margin-top: -5px; padding-top: 15px;
        }
        .hint-item.open .hint-body { display: block; animation: fadeIn 0.3s; }

        /* Bottom Nav */
        .bottom-nav {
            position: fixed; bottom: 25px; left: 50%; transform: translateX(-50%);
            width: 90%; max-width: 420px; height: 65px;
            background: var(--bg-glass);
            backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px);
            border: 1px solid var(--bg-glass-border);
            border-radius: 40px;
            display: flex; justify-content: space-evenly; align-items: center;
            box-shadow: var(--shadow-float); z-index: 90;
        }
        
        .nav-btn {
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            width: 50px; height: 100%; color: var(--text-muted); cursor: pointer; transition: 0.3s;
        }
        .nav-btn i { font-size: 1.4rem; transition: 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275); }
        .nav-btn span { font-size: 0.65rem; font-weight: bold; opacity: 0; transform: translateY(10px); transition: 0.3s; margin-top: 2px; }
        
        .nav-btn.active { color: var(--text-main); }
        .nav-btn.active i { color: var(--primary-color); transform: translateY(-5px); }
        .nav-btn.active span { opacity: 1; transform: translateY(-2px); color: var(--primary-color); }

        /* Modal */
        .modal-wrap {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.6); z-index: 200;
            backdrop-filter: blur(5px);
            display: none; align-items: center; justify-content: center; opacity: 0; transition: 0.3s;
        }
        .modal-wrap.show { opacity: 1; }
        .modal-box {
            width: 90%; max-width: 380px; background: #16181e; 
            border: 1px solid var(--bg-glass-border);
            border-radius: 24px; padding: 30px 25px;
            transform: scale(0.9); transition: 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
            max-height: 85vh; overflow-y: auto;
            box-shadow: 0 20px 60px rgba(0,0,0,0.5);
        }
        .light-mode .modal-box { background: #fff; border-color: #eee; }
        .modal-wrap.show .modal-box { transform: scale(1); }

        .btn-main {
            width: 100%; padding: 15px; border-radius: 50px; background: var(--primary-gradient);
            border: none; color: #000; font-weight: 800; font-size: 1rem; margin-top: 20px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.2); cursor: pointer;
        }

        /* Settings UI */
        .setting-group { margin-bottom: 25px; text-align: center; }
        .setting-label { font-size: 0.85rem; color: var(--text-muted); margin-bottom: 10px; display: block; }
        
        /* Bg Mode Switch */
        .mode-switch {
            display: flex; background: var(--bg-input); padding: 4px; border-radius: 12px;
            border: 1px solid var(--bg-glass-border); margin: 0 auto 10px auto; width: 100%;
        }
        .mode-opt {
            flex: 1; padding: 10px; border-radius: 8px; font-size: 0.9rem; font-weight: bold;
            color: var(--text-muted); cursor: pointer; transition: 0.3s;
            display: flex; align-items: center; justify-content: center; gap: 8px;
        }
        .mode-opt.active { background: var(--bg-glass); color: var(--text-main); box-shadow: 0 2px 8px rgba(0,0,0,0.1); }
        .mode-opt i { font-size: 1rem; }

        /* Color Picker */
        .color-grid { display: flex; gap: 15px; justify-content: center; }
        .color-opt {
            width: 40px; height: 40px; border-radius: 50%; cursor: pointer;
            border: 2px solid var(--bg-glass-border); position: relative; transition: 0.2s;
        }
        .color-opt.selected { border-color: var(--text-main); transform: scale(1.15); box-shadow: 0 4px 10px rgba(0,0,0,0.3); }
        .color-opt.gold { background: linear-gradient(135deg, #EBD197, #C5A059); }
        .color-opt.red  { background: linear-gradient(135deg, #ff8a80, #e53935); }
        .color-opt.blue { background: linear-gradient(135deg, #82b1ff, #2979ff); }
        .color-opt.green { background: linear-gradient(135deg, #b9f6ca, #00c853); }
        .color-opt.purple { background: linear-gradient(135deg, #ea80fc, #aa00ff); }

        .input-field {
            width: 100%; padding: 12px; background: var(--bg-input); 
            border: 1px solid var(--bg-input-border);
            color: var(--text-main); border-radius: 10px; margin-top: 5px; font-size: 1rem;
        }
        .input-field:focus { border-color: var(--primary-color); }

        .demo-link-area {
            text-align: center; margin-top: 25px; padding-top: 15px;
            border-top: 1px dashed var(--bg-glass-border); display: flex; justify-content: center; gap: 20px;
        }
        .demo-link { color: var(--text-muted); font-size: 0.75rem; text-decoration: none; cursor: pointer; }
        .demo-link:hover { color: var(--text-main); }

        /* Toast */
        #toast {
            position: fixed; top: 20px; left: 50%; transform: translateX(-50%) translateY(-100px);
            background: rgba(255,255,255,0.95); color: #000; padding: 14px 25px;
            border-radius: 50px; font-weight: bold; font-size: 0.9rem;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5); z-index: 300;
            display: flex; align-items: center; gap: 10px;
            transition: 0.5s cubic-bezier(0.19, 1, 0.22, 1);
        }
        #toast.show { transform: translateX(-50%) translateY(0); }
    </style>
</head>
<body>

    <header>
        <div class="header-brand">
            <!-- ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ãŸãƒ­ã‚´ã‚’ä½¿ç”¨ã€ã‚¨ãƒ©ãƒ¼æ™‚ã¯ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼ -->
            <img src="rogo.jpg.jpg" class="header-logo-img" onerror="this.onerror=null; this.src='data:image/svg+xml;charset=UTF-8,%3csvg xmlns=\'http://www.w3.org/2000/svg\' width=\'100\' height=\'100\' viewBox=\'0 0 100 100\' fill=\'%23fff\'%3e%3crect width=\'100\' height=\'100\' fill=\'%23333\'/%3e%3ctext x=\'50\' y=\'50\' font-family=\'Arial\' font-size=\'30\' fill=\'%23fff\' text-anchor=\'middle\' dy=\'.3em\'%3eLOGO%3c/text%3e%3c/svg%3e'">
            <div class="header-titles">
                <span class="app-title-main">ç¹ç››ã®å³è…•</span>
                <span class="app-catch-copy">ãŠè²¸ã—ã™ã‚‹ã®ã¯ã€ãƒã‚·ãƒ³ã§ã¯ãªãã€ç¹ç››ã€</span>
            </div>
        </div>
        
        <div class="header-controls">
            <span id="header-shop-name" class="header-shop-name">å½“åº—</span>
            <button class="header-btn touch-feedback" onclick="openModal('guide-modal')">
                <i class="fa-regular fa-circle-question"></i>
            </button>
            <button class="header-btn touch-feedback" onclick="openModal('settings-modal')">
                <i class="fa-solid fa-sliders"></i>
            </button>
        </div>
    </header>

    <main>
        <!-- AI Concierge -->
        <div class="concierge-area">
            <span class="greeting-sub" id="greeting-sub">WELCOME</span>
            <span class="greeting-main" id="greeting-main">ãŠç–²ã‚Œæ§˜ã§ã™ã€åº—é•·ã€‚</span>
        </div>

        <!-- SNS Tab (Main Flow) -->
        <div id="tab-sns" class="tab-content">
            
            <!-- Step 1 -->
            <h2 class="section-head"><span class="step-badge">1</span> æ–‡ç« ã®é›°å›²æ°—ã‚’é¸ã¶</h2>
            <div class="glass-panel" style="padding:15px; margin-bottom:20px;">
                <div class="tone-selector">
                    <div class="tone-btn touch-feedback" data-tone="polite" onclick="setTone('polite', this)">ä¸å¯§ãƒ»ä¸Šå“</div>
                    <div class="tone-btn active touch-feedback" data-tone="friendly" onclick="setTone('friendly', this)">è¦ªã—ã¿</div>
                    <div class="tone-btn touch-feedback" data-tone="passion" onclick="setTone('passion', this)">ç†±è¡€ãƒ»ã‚ªãƒ©</div>
                </div>
            </div>

            <!-- Step 2 -->
            <h2 class="section-head"><span class="step-badge">2</span> SNSã‚’é¸ã¶</h2>
            <div class="glass-panel" style="padding:15px; margin-bottom:20px;">
                <div class="sns-chips-wrap">
                    <div class="sns-chip active touch-feedback" data-sns="instagram" onclick="setSns('instagram', this)"><i class="fa-brands fa-instagram"></i> Insta</div>
                    <div class="sns-chip touch-feedback" data-sns="facebook" onclick="setSns('facebook', this)"><i class="fa-brands fa-facebook"></i> FB</div>
                    <div class="sns-chip touch-feedback" data-sns="x" onclick="setSns('x', this)"><i class="fa-brands fa-x-twitter"></i> X</div>
                    <div class="sns-chip touch-feedback" data-sns="line" onclick="setSns('line', this)"><i class="fa-brands fa-line"></i> LINE</div>
                </div>
            </div>

            <!-- Step 3 -->
            <h2 class="section-head"><span class="step-badge">3</span> ãƒ†ãƒ¼ãƒã‚’é¸ã¶</h2>
            <!-- ã‚·ãƒ¼ãƒ³ -->
            <div class="smart-grid">
                <div class="smart-btn touch-feedback" id="btn-weekend" onclick="generate('weekend')">
                    <i class="fa-solid fa-beer-mug-empty smart-btn-icon"></i>
                    <div>
                        <span class="smart-btn-label">é€±æœ«ãƒ»è¯é‡‘</span>
                        <div class="smart-btn-sub">ä»•äº‹çµ‚ã‚ã‚Šã®ä¸€æ¯</div>
                    </div>
                </div>
                <div class="smart-btn touch-feedback" id="btn-rain" onclick="generate('rain')">
                    <i class="fa-solid fa-umbrella smart-btn-icon"></i>
                    <div>
                        <span class="smart-btn-label">é›¨ã®æ—¥</span>
                        <div class="smart-btn-sub">é›¨å®¿ã‚Šè¨´æ±‚ãƒ»å‰²å¼•</div>
                    </div>
                </div>
                <div class="smart-btn touch-feedback" onclick="generate('thanks')">
                    <i class="fa-solid fa-heart smart-btn-icon"></i>
                    <div>
                        <span class="smart-btn-label">æ„Ÿè¬ãƒ»æ—¥å¸¸</span>
                        <div class="smart-btn-sub">ãƒ•ã‚¡ãƒ³ã¨ã®çµ†</div>
                    </div>
                </div>
                <div class="smart-btn touch-feedback" onclick="generate('empty')">
                    <i class="fa-solid fa-bullhorn smart-btn-icon"></i>
                    <div>
                        <span class="smart-btn-label">ç©ºå¸­ã‚ã‚Š</span>
                        <div class="smart-btn-sub">ã€Œä»Šãªã‚‰æŠ•ã’æ”¾é¡Œã€</div>
                    </div>
                </div>
            </div>
            
            <!-- å­£ç¯€ -->
            <div class="seasonal-container">
                <div class="seasonal-label">å­£ç¯€ãƒ»è¡Œäº‹ã‹ã‚‰é¸ã¶</div>
                <div class="seasonal-row">
                    <select id="month-select" class="seasonal-select" onchange="onMonthChange()">
                        <option value="">æœˆã‚’é¸æŠ</option>
                    </select>
                    <select id="event-select" class="seasonal-select" disabled onchange="onEventChange()">
                        <option value="">è¡Œäº‹ã‚’é¸æŠ</option>
                    </select>
                </div>
            </div>
            
            <!-- Result -->
            <div class="preview-area" id="preview-anchor">
                <textarea id="result-box" class="preview-box" readonly placeholder="ã“ã“ã«æŠ•ç¨¿æ–‡ãŒç”Ÿæˆã•ã‚Œã¾ã™..."></textarea>
            </div>

            <!-- Step 4 -->
            <h2 class="section-head"><span class="step-badge">4</span> ã‚¹ãƒãƒ›æ’®å½±ã®æ¥µæ„</h2>
            <div class="tips-grid">
                <div class="tip-card" onclick="toggleTip(this)">
                    <div class="tip-title"><i class="fa-solid fa-utensils"></i> æ–™ç†</div>
                    <div class="tip-desc">åŸºæœ¬ã¯ã€Œé€†å…‰ã€ã‹ã€ŒåŠé€†å…‰ã€ã€‚çª“éš›ã®è‡ªç„¶å…‰ãŒæœ€å¼·ã§ã™ã€‚çœŸä¸Šã‹ã‚‰ã®ä¿¯ç°ï¼ˆãµã‹ã‚“ï¼‰ã‹ã€æ–œã‚45åº¦ã‹ã‚‰å¯„ã‚Šæ°—å‘³ã§æ’®ã‚‹ã¨ã‚·ã‚ºãƒ«æ„ŸãŒå‡ºã¾ã™ã€‚</div>
                </div>
                <div class="tip-card" onclick="toggleTip(this)">
                    <div class="tip-title"><i class="fa-solid fa-wine-glass"></i> ãŠé…’</div>
                    <div class="tip-desc">ã‚°ãƒ©ã‚¹ã®æ°´æ»´ã¯ã€Œå†·ãŸã•ã€ã®è¨¼ã€‚æ‹­ã‹ãšã«æ’®ã‚Šã¾ã—ã‚‡ã†ã€‚èƒŒå¾Œã‹ã‚‰ãƒ©ã‚¤ãƒˆã‚’å½“ã¦ã‚‹ã¨æ¶²ä½“ã®è‰²ãŒé€ãé€šã£ã¦ç¾ã—ãè¦‹ãˆã¾ã™ã€‚</div>
                </div>
                <div class="tip-card" onclick="toggleTip(this)">
                    <div class="tip-title"><i class="fa-solid fa-bullseye"></i> ãƒ€ãƒ¼ãƒ„</div>
                    <div class="tip-desc">ç›¤é¢ã ã‘ã®ã‚¢ãƒƒãƒ—ã‚ˆã‚Šã€ŒæŠ•ã’ã¦ã„ã‚‹äººã®å¾Œã‚å§¿ã€ã‚’å…¥ã‚Œã‚‹ã¨è‡¨å ´æ„ŸãŒå‡ºã¾ã™ã€‚æ‰‹å…ƒã®ãƒ€ãƒ¼ãƒ„ã«ãƒ”ãƒ³ãƒˆã‚’åˆã‚ã›èƒŒæ™¯ã‚’ã¼ã‹ã™ã®ã‚‚ãƒ—ãƒ­ã£ã½ã„ã§ã™ã€‚</div>
                </div>
                <div class="tip-card" onclick="toggleTip(this)">
                    <div class="tip-title"><i class="fa-solid fa-store"></i> å¤–è¦³ãƒ»å†…è£…</div>
                    <div class="tip-desc">å†…è£…ã¯ã€Œåºƒè§’ã€ãƒ¢ãƒ¼ãƒ‰ã§å¥¥è¡Œãã‚’å‡ºã—ã¾ã™ã€‚ãŠå®¢ã•ã‚“ãŒã„ãªã„é–‹åº—ç›´å¾Œã‹ã€ã‚ãˆã¦è³‘ã‚ã£ã¦ã„ã‚‹æ§˜å­ã‚’ã€Œã¼ã‹ã—ã€ã§å…¥ã‚Œã‚‹ã®ã‚‚â—ã€‚æ°´å¹³ãƒ»å‚ç›´ã‚’æ„è­˜ã—ã¾ã—ã‚‡ã†ã€‚</div>
                </div>
            </div>
            <div style="height:30px;"></div>
        </div>

        <!-- Talk & Team Tab (Merged) -->
        <div id="tab-talk" class="tab-content" style="display:none;">
            <h2 class="section-head"><i class="fa-solid fa-bell-concierge"></i> æ¥å®¢ãƒ»ãƒãƒ¼ãƒ </h2>
            
            <div class="info-card">
                <div class="card-head"><i class="fa-solid fa-scroll"></i> æœ¬æ—¥ã®ã‚¯ã‚¨ã‚¹ãƒˆ</div>
                <div class="quest-box">
                    <div class="quest-text" id="quest-text">STARTãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã¦<br>ã‚¯ã‚¨ã‚¹ãƒˆã‚’å—æ³¨ã›ã‚ˆ</div>
                </div>
                <button class="btn-main touch-feedback" onclick="startQuest()">ã‚¯ã‚¨ã‚¹ãƒˆã‚’å—æ³¨ã™ã‚‹</button>
            </div>

            <div class="info-card">
                <div class="card-head"><i class="fa-solid fa-book-open"></i> æ¥å®¢ã®æ¥µæ„</div>
                <div class="accordion-item">
                    <button class="accordion-btn touch-feedback" onclick="toggleAcc(this)">æ¥å®¢ã¯ã€Œå¥³å„ªã€ã§ã‚ã‚Œ</button>
                    <div class="accordion-content">ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ã«å…¥ã£ãŸã‚‰ã€ã‚ãªãŸã¯èˆå°ä¸Šã®ã‚­ãƒ£ã‚¹ãƒˆã§ã™ã€‚ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆã®ä¸æ©Ÿå«Œã¯æ¥½å±‹ï¼ˆè£ï¼‰ã«ç½®ã„ã¦ã€æœ€é«˜ã®æ™‚é–“ã‚’æ¼”ã˜ãã‚Šã¾ã—ã‚‡ã†ã€‚</div>
                </div>
                <div class="accordion-item">
                    <button class="accordion-btn touch-feedback" onclick="toggleAcc(this)">2å›ç›®ã®ãŠå®¢æ§˜ã¸ã®é­”æ³•</button>
                    <div class="accordion-content">ã€Œã„ã‚‰ã£ã—ã‚ƒã„ã¾ã›ã€ã§ã¯ãªãã€Œã‚ã€ãŠã‹ãˆã‚Šãªã•ã„ï¼ã€ã¨è¨€ã„ã¾ã—ã‚‡ã†ã€‚è‡ªåˆ†ã®å­˜åœ¨ã‚’èªçŸ¥ã•ã‚Œã¦ã„ã‚‹æ„Ÿå‹•ãŒã€æœ€å¼·ã®ãƒ•ã‚¡ãƒ³åŒ–ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚</div>
                </div>
                <div class="accordion-item">
                    <button class="accordion-btn touch-feedback" onclick="toggleAcc(this)">è¦³å¯Ÿã®é¬¼ã«ãªã‚Œ</button>
                    <div class="accordion-content">ã‚°ãƒ©ã‚¹ã®ç©ºãå…·åˆã ã‘ã§ãªãã€ã€Œè¡¨æƒ…ã€ã‚’è¦³å¯Ÿã—ã¾ã™ã€‚æš‡ãã†ã«ã—ã¦ã„ã‚‹ã‹ã€è©±ã—ãŸãã†ã‹ã€æ”¾ã£ã¦ãŠã„ã¦ã»ã—ã„ã‹ã€‚å¯Ÿã™ã‚‹èƒ½åŠ›ãŒãƒ—ãƒ­ã®è¨¼ã§ã™ã€‚</div>
                </div>
            </div>

            <div class="info-card">
                <div class="card-head"><i class="fa-solid fa-users"></i> ãƒãƒ¼ãƒ ã®å¿ƒæ§‹ãˆ</div>
                <div class="accordion-item">
                    <button class="accordion-btn touch-feedback" onclick="toggleAcc(this)">Visionï¼šæä¾›ä¾¡å€¤</button>
                    <div class="accordion-content">ã€Œå£²ã‚‹ã®ã¯ãŠé…’ã˜ã‚ƒãªã„ã€‚ã€å±…å ´æ‰€ã€ã¨ã€è‡ªä¿¡ã€ã ã€‚ã€<br>ãƒ€ãƒ¼ãƒ„ãŒä¸Šæ‰‹ããªã£ãŸæ™‚ã®è‡ªä¿¡ã€ã‚¹ã‚¿ãƒƒãƒ•ã¨è©±ã—ã¦ãƒ›ãƒƒã¨ã™ã‚‹å±…å ´æ‰€ã€‚ç§ãŸã¡ãŒæä¾›ã—ã¦ã„ã‚‹ã®ã¯ãã‚Œã§ã™ã€‚</div>
                </div>
                <div class="accordion-item">
                    <button class="accordion-btn touch-feedback" onclick="toggleAcc(this)">ãƒ˜ãƒ«ãƒ—ã¸ã®æ„Ÿè¬</button>
                    <div class="accordion-content">å¿™ã—ã„æ™‚ã«åŠ©ã‘ã¦ãã‚ŒãŸã‚¹ã‚¿ãƒƒãƒ•ã«ã¯ã€å–¶æ¥­å¾Œã«å¿…ãšã€Œã‚ã‚ŠãŒã¨ã†ã€ã‚’ä¼ãˆã¾ã—ã‚‡ã†ã€‚å°ã•ãªæ„Ÿè¬ã®ç©ã¿é‡ã­ãŒæœ€å¼·ã®ãƒãƒ¼ãƒ ã‚’ä½œã‚Šã¾ã™ã€‚</div>
                </div>
            </div>
        </div>

        <!-- Hints Tab (Updated) -->
        <div id="tab-hints" class="tab-content" style="display:none;">
            <h2 class="section-head"><i class="fa-solid fa-lightbulb"></i> ç¹ç››åº—ã®çµŒå–¶ãƒ’ãƒ³ãƒˆ30</h2>
            
            <div class="hint-cats">
                <div class="hint-cat-chip active" onclick="filterHints('all', this)">ã™ã¹ã¦</div>
                <div class="hint-cat-chip" onclick="filterHints('sales', this)">ğŸ’° å£²ä¸Š</div>
                <div class="hint-cat-chip" onclick="filterHints('attract', this)">ğŸ“¢ é›†å®¢</div>
                <div class="hint-cat-chip" onclick="filterHints('fan', this)">ğŸ’– ãƒ•ã‚¡ãƒ³</div>
                <div class="hint-cat-chip" onclick="filterHints('efficiency', this)">â± åŠ¹ç‡</div>
                <div class="hint-cat-chip" onclick="filterHints('staff', this)">ğŸ¤ äººæ</div>
                <div class="hint-cat-chip" onclick="filterHints('env', this)">ğŸ  ç’°å¢ƒ</div>
            </div>

            <div class="hint-list-container" id="hints-container">
                <!-- JS Generated -->
            </div>
            <div style="height:30px;"></div>
        </div>
        
        <!-- QR Tab -->
        <div id="tab-qr" class="tab-content" style="display:none;">
            <h2 class="section-head"><i class="fa-solid fa-qrcode"></i> å£ã‚³ãƒŸã‚’é›†ã‚ã‚‹</h2>
            <div class="info-card" style="text-align:center; padding:40px 20px;">
                <p style="margin-bottom:20px; font-weight:bold; font-size:1.1rem; color:var(--text-main);">ãŠå®¢æ§˜ã«è¦‹ã›ã‚‹ã ã‘ï¼</p>
                <div style="background:#fff; padding:15px; border-radius:15px; display:inline-block; margin-bottom:20px;">
                    <div id="qr-display" style="width:180px; height:180px; display:flex; align-items:center; justify-content:center; color:#333;">QRæœªè¨­å®š</div>
                </div>
                <p style="color:var(--text-muted); font-size:0.9rem;">ã€Œå†™çœŸä»˜ãã§å£ã‚³ãƒŸæŠ•ç¨¿ã—ã¦ãã‚ŒãŸã‚‰<br>1ãƒ‰ãƒªãƒ³ã‚¯ã‚µãƒ¼ãƒ“ã‚¹ã—ã¾ã™ï¼ã€</p>
                <p id="qr-url-disp" style="color:var(--text-muted); font-size:0.7rem; margin-top:10px; word-break:break-all;"></p>
            </div>
        </div>

    </main>

    <!-- Floating Copy Button -->
    <button class="fab-copy touch-feedback hide" id="copy-btn" onclick="copyText()">
        <i class="fa-regular fa-copy"></i> ã‚³ãƒ”ãƒ¼ã™ã‚‹
    </button>

    <!-- Bottom Nav -->
    <nav class="bottom-nav">
        <div class="nav-btn active touch-feedback" onclick="switchTab('sns', this)">
            <i class="fa-solid fa-camera"></i><span>SNS</span>
        </div>
        <div class="nav-btn touch-feedback" onclick="switchTab('talk', this)">
            <i class="fa-solid fa-comments"></i><span>æ¥å®¢ãƒ»ãƒãƒ¼ãƒ </span>
        </div>
        <div class="nav-btn touch-feedback" onclick="switchTab('hints', this)">
            <i class="fa-solid fa-lightbulb"></i><span>ãƒ’ãƒ³ãƒˆ</span>
        </div>
        <div class="nav-btn touch-feedback" onclick="switchTab('qr', this)">
            <i class="fa-solid fa-qrcode"></i><span>å£ã‚³ãƒŸ</span>
        </div>
    </nav>

    <!-- Modal: Settings -->
    <div id="settings-modal" class="modal-wrap">
        <div class="modal-box">
            <h3 style="color:var(--primary-color); margin-bottom:20px; text-align:center;">è¨­å®šãƒ»ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º</h3>
            
            <div class="setting-group">
                <label class="setting-label">èƒŒæ™¯ãƒ†ãƒ¼ãƒ</label>
                <div class="mode-switch">
                    <div class="mode-opt active touch-feedback" id="mode-dark" onclick="setBgMode('dark')">
                        <i class="fa-solid fa-moon"></i> ãƒ€ãƒ¼ã‚¯
                    </div>
                    <div class="mode-opt touch-feedback" id="mode-light" onclick="setBgMode('light')">
                        <i class="fa-solid fa-sun"></i> ãƒ©ã‚¤ãƒˆ
                    </div>
                </div>
            </div>

            <div class="setting-group">
                <label class="setting-label">ç”»é¢ã®è‰²åˆã„ï¼ˆã‚¢ã‚¯ã‚»ãƒ³ãƒˆï¼‰</label>
                <div class="color-grid">
                    <div class="color-opt gold selected" onclick="changeTheme('gold', this)"></div>
                    <div class="color-opt red" onclick="changeTheme('red', this)"></div>
                    <div class="color-opt blue" onclick="changeTheme('blue', this)"></div>
                    <div class="color-opt green" onclick="changeTheme('green', this)"></div>
                    <div class="color-opt purple" onclick="changeTheme('purple', this)"></div>
                </div>
            </div>

            <div style="margin-bottom:15px;">
                <label class="setting-label" style="text-align:left;">åº—èˆ—å</label>
                <input type="text" id="shop-name" class="input-field">
            </div>
            <div style="margin-bottom:15px;">
                <label class="setting-label" style="text-align:left;">ã‚¨ãƒªã‚¢ãƒ»é§…å (ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°ç”¨)</label>
                <input type="text" id="shop-area" class="input-field">
            </div>
            <div style="margin-bottom:15px;">
                <label class="setting-label" style="text-align:left;">åº—èˆ—ã®URL (SNSæŠ•ç¨¿ç”¨)</label>
                <input type="url" id="shop-url" class="input-field" placeholder="https://...">
            </div>
            <div style="margin-bottom:15px;">
                <label class="setting-label" style="text-align:left;">å£ã‚³ãƒŸç”¨URL (QRã‚³ãƒ¼ãƒ‰ç”¨)</label>
                <input type="url" id="review-url" class="input-field" placeholder="https://g.page/...">
            </div>

            <button class="btn-main touch-feedback" onclick="saveSettings()">è¨­å®šã‚’ä¿å­˜</button>
            <div style="text-align:center; margin-top:15px; color:var(--text-muted); font-size:0.85rem;" onclick="openModal('settings-modal', false)">ã‚­ãƒ£ãƒ³ã‚»ãƒ«</div>
            
            <!-- Demo Area -->
            <div class="demo-link-area">
                <span class="demo-link" onclick="fillDemoData()">ãƒ‡ãƒ¢ãƒ‡ãƒ¼ã‚¿åæ˜ </span>
                <span class="demo-link" onclick="clearDemoData()">ãƒ‡ãƒ¢ãƒ‡ãƒ¼ã‚¿ã‚¯ãƒªã‚¢</span>
            </div>
        </div>
    </div>
    
    <!-- Modal: Guide -->
    <div id="guide-modal" class="modal-wrap">
        <div class="modal-box">
            <h3 style="color:var(--primary-color); margin-bottom:15px; text-align:center;">ä½¿ã„æ–¹ã‚¬ã‚¤ãƒ‰</h3>
            <p style="color:var(--text-muted); font-size:0.9rem; line-height:1.6; margin-bottom:15px;">
                <b>ã€SNSæŠ•ç¨¿ã®æµã‚Œã€‘</b><br>
                <b>Step 1:</b> ãŠåº—ã®é›°å›²æ°—ï¼ˆä¸å¯§ãƒ»ç†±è¡€ãªã©ï¼‰ã‚’é¸ã¶ã€‚<br>
                <b>Step 2:</b> æŠ•ç¨¿ã™ã‚‹SNSï¼ˆã‚¤ãƒ³ã‚¹ã‚¿ãªã©ï¼‰ã‚’é¸ã¶ã€‚<br>
                <b>Step 3:</b> ã‚·ãƒ¼ãƒ³ã€ã¾ãŸã¯<b>æœˆã¨è¡Œäº‹</b>ã‚’é¸ã¶ã€‚<br>
                â†’ ã“ã‚Œã ã‘ã§æ–‡ç« ãŒå®Œæˆï¼<br>
                <b>Step 4:</b> æœ€å¾Œã«ã€Œæ’®å½±ã®æ¥µæ„ã€ã‚’è¦‹ã¦ã€æ˜ ãˆã‚‹å†™çœŸã‚’æ’®ã‚Šã¾ã—ã‚‡ã†ï¼
            </p>
            <button class="btn-main touch-feedback" onclick="openModal('guide-modal', false)">é–‰ã˜ã‚‹</button>
        </div>
    </div>

    <!-- Toast Notification -->
    <div id="toast"><i class="fa-solid fa-check" style="color:green;"></i> <span id="toast-msg">Copied!</span></div>

    <script>
        // --- System Variables ---
        let currentTone = 'friendly'; 
        let currentSns = 'instagram';
        
        let shopName = localStorage.getItem('mjs_name') || 'å½“åº—';
        let shopArea = localStorage.getItem('mjs_area') || '';
        let shopUrl = localStorage.getItem('mjs_shop_url') || '';
        let reviewUrl = localStorage.getItem('mjs_review_url') || '';
        let currentTheme = localStorage.getItem('mjs_theme') || 'gold';
        let currentBgMode = localStorage.getItem('mjs_bg_mode') || 'dark';

        // 30 Management Hints (With Category)
        // sales, attract, fan, efficiency, staff, env
        const managementHints = [
            { c: "sales", icon: "ğŸ’°", t: "é›¨ã®æ—¥ã®ç‰¹å…¸ã‚’ç”¨æ„ã™ã‚‹", d: "ã€Œé›¨å®¿ã‚Šã‚µãƒ¼ãƒ“ã‚¹ã€ã¨ã—ã¦ãƒãƒ£ãƒ¼ã‚¸ç„¡æ–™ã‚„1æ¯ã‚µãƒ¼ãƒ“ã‚¹ã‚’SNSã§å‘ŠçŸ¥ã€‚é›¨ã®æ—¥ã‚’ãƒãƒ£ãƒ³ã‚¹ã«å¤‰ãˆã‚‹ã€‚" },
            { c: "fan", icon: "ğŸ’–", t: "ã‚¹ã‚¿ãƒƒãƒ•ã®ã€Œæ¨ã—ã€ã‚’ä½œã‚‹", d: "ã‚¹ã‚¿ãƒƒãƒ•ãã‚Œãã‚Œã«ãŠã™ã™ã‚ãƒ‰ãƒªãƒ³ã‚¯ã‚’æŒãŸã›ã€ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã«ã€Œã€‡ã€‡ã®æ¨ã—ã€ã¨è¨˜è¼‰ã€‚ä¼šè©±ã®ãã£ã‹ã‘ã«ãªã‚‹ã€‚" },
            { c: "env", icon: "ğŸ ", t: "ãƒˆã‚¤ãƒ¬ã¯åº—ã®é¡", d: "ãƒˆã‚¤ãƒ¬ã®æ¸…æ½”ã•ã¯ä¿¡é ¼ã«ç›´çµã™ã‚‹ã€‚1æ™‚é–“ã«1å›ã®ãƒã‚§ãƒƒã‚¯ã¯ã‚‚ã¡ã‚ã‚“ã€ã‚¢ãƒ¡ãƒ‹ãƒ†ã‚£ï¼ˆç¶¿æ£’ã€ãƒã‚¦ã‚¹ã‚¦ã‚©ãƒƒã‚·ãƒ¥ï¼‰ã®å……å®Ÿã‚’ã€‚" },
            { c: "fan", icon: "ğŸ’–", t: "ã€Œ3ç§’ãƒ«ãƒ¼ãƒ«ã€ã®å¾¹åº•", d: "ãŠå®¢æ§˜ãŒå…¥åº—ã—ãŸã‚‰3ç§’ä»¥å†…ã«ã€Œã„ã‚‰ã£ã—ã‚ƒã„ã¾ã›ã€ã¨ã‚¢ã‚¤ã‚³ãƒ³ã‚¿ã‚¯ãƒˆã€‚ã“ã‚Œã§ç¬¬ä¸€å°è±¡ãŒæ±ºã¾ã‚‹ã€‚" },
            { c: "fan", icon: "ğŸ’–", t: "åå‰ã§å‘¼ã¶é­”æ³•", d: "2å›ç›®ä»¥é™ã®ãŠå®¢æ§˜ã¯å¿…ãšåå‰ã§å‘¼ã¶ã€‚ã€ŒãŠå®¢æ§˜ã€ã§ã¯ãªãã€Œã€‡ã€‡ã•ã‚“ã€ã¨å‘¼ã¶ã ã‘ã§è·é›¢ãŒç¸®ã¾ã‚‹ã€‚" },
            { c: "fan", icon: "ğŸ’–", t: "ãŠè¦‹é€ã‚Šã®é‡è¦æ€§", d: "ä¼šè¨ˆå¾ŒãŒå‹è² ã€‚å§¿ãŒè¦‹ãˆãªããªã‚‹ã¾ã§ãŠè¦‹é€ã‚Šã™ã‚‹ã€‚ã€Œã¾ãŸæ¥ãŸã„ã€ã¨æ€ã‚ã›ã‚‹æœ€å¾Œã®ãƒãƒ£ãƒ³ã‚¹ã€‚" },
            { c: "sales", icon: "ğŸ’°", t: "ã€Œè£ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã€ã®æ¼”å‡º", d: "å¸¸é€£å‘ã‘ã®è£ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’ä½œã‚‹ã€‚ç‰¹åˆ¥æ„ŸãŒå„ªè¶Šæ„Ÿã‚’ç”Ÿã¿ã€ãƒªãƒ”ãƒ¼ãƒˆç‡ã‚’é«˜ã‚ã‚‹ã€‚" },
            { c: "efficiency", icon: "â±", t: "BGMã§å›è»¢ç‡ã‚’æ“ä½œ", d: "æ··é›‘æ™‚ã¯ãƒ†ãƒ³ãƒã®é€Ÿã„æ›²ã€ç©ºã„ã¦ã„ã‚‹æ™‚ã¯ã‚†ã£ãŸã‚Šã—ãŸæ›²ã€‚ç„¡æ„è­˜ã«è¡Œå‹•ãƒšãƒ¼ã‚¹ã‚’èª˜å°ã§ãã‚‹ã€‚" },
            { c: "sales", icon: "ğŸ’°", t: "ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼è¶Šã—ã®ä¹¾æ¯", d: "ã‚¹ã‚¿ãƒƒãƒ•ã‚‚ä¸€ç·’ã«ä¹¾æ¯ã§ãã‚‹åˆ¶åº¦ï¼ˆãŠå®¢æ§˜ã®ãŠã”ã‚Šï¼‰ã‚’ä½œã‚‹ã€‚å£²ä¸Šã‚¢ãƒƒãƒ—ã¨ä¸€ä½“æ„Ÿã®é†¸æˆã«ã€‚" },
            { c: "attract", icon: "ğŸ“¢", t: "Googleãƒãƒƒãƒ—ã®æ›´æ–°", d: "é€±ã«1å›ã€æ¥½ã—ãã†ãªåº—å†…å†™çœŸã‚’UPã™ã‚‹ã ã‘ã§æ¤œç´¢é †ä½ãŒä¸ŠãŒã‚‹ã€‚ç„¡æ–™ã®æœ€å¼·é›†å®¢ãƒ„ãƒ¼ãƒ«ã€‚" },
            { c: "sales", icon: "ğŸ’°", t: "ã€Œã‚ã¨ä¸€æ¯ã€ã®ä¿ƒã—", d: "ã‚°ãƒ©ã‚¹ãŒæ®‹ã‚Š2å‰²ã«ãªã£ãŸã‚‰æ¬¡ã‚’èãã€‚ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã‚’é€ƒã™ã¨å¸°ã‚‰ã‚Œã¦ã—ã¾ã†ã€‚" },
            { c: "fan", icon: "ğŸ’–", t: "æ–°è¦å®¢ã¸ã®ã‚±ã‚¢", d: "æ–°è¦å®¢ã‚’å¸¸é€£ã®éš£ã«åº§ã‚‰ã›ã€ã‚¹ã‚¿ãƒƒãƒ•ãŒä»²ä»‹å½¹ã«ãªã£ã¦ä¼šè©±ã‚’ç¹‹ãã€‚ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã¸ã®ä»²é–“å…¥ã‚Šã‚’ã‚µãƒãƒ¼ãƒˆã€‚" },
            { c: "sales", icon: "ğŸ’°", t: "ã‚¤ãƒ™ãƒ³ãƒˆã¯ã€Œå£å®Ÿã€", d: "ã€Œãƒœã‚¸ãƒ§ãƒ¬ãƒ¼è§£ç¦ã€ã€Œå‘¨å¹´ã€ãªã©ã¯æ¥åº—ã™ã‚‹å£å®Ÿã€‚ã“ã˜ã¤ã‘ã§ã‚‚è‰¯ã„ã®ã§æ¯æœˆã‚¤ãƒ™ãƒ³ãƒˆã‚’ä½œã‚‹ã€‚" },
            { c: "attract", icon: "ğŸ“¢", t: "ã‚¹ã‚¿ãƒƒãƒ•ã®èª•ç”Ÿæ—¥", d: "ã‚¹ã‚¿ãƒƒãƒ•ã®ãƒãƒ¼ã‚¹ãƒ‡ãƒ¼ã‚¤ãƒ™ãƒ³ãƒˆã¯æœ€å¤§ã®é›†å®¢ãƒãƒ£ãƒ³ã‚¹ã€‚1ãƒ¶æœˆå‰ã‹ã‚‰å‘ŠçŸ¥ã—ã¦ç››ã‚Šä¸Šã’ã‚‹ã€‚" },
            { c: "efficiency", icon: "â±", t: "æ—¥å ±ã®ãƒ‡ã‚¸ã‚¿ãƒ«åŒ–", d: "LINEã‚°ãƒ«ãƒ¼ãƒ—ã§æ—¥å ±ã‚’å…±æœ‰ã€‚è‰¯ã‹ã£ãŸç‚¹ã€æ”¹å–„ç‚¹ã‚’å…¨å“¡ã§æŠŠæ¡ã—ã€ç¿Œæ—¥ã«æ´»ã‹ã™ã€‚" },
            { c: "sales", icon: "ğŸ’°", t: "ç«¶åˆåº—ã®ãƒªã‚µãƒ¼ãƒ", d: "è¿‘éš£ã®ç¹ç››åº—ã«é£²ã¿ã«è¡Œãã€‚ãªãœæµè¡Œã£ã¦ã„ã‚‹ã®ã‹ï¼Ÿå®¢å±¤ã¯ï¼Ÿè‡ªåº—ã«è¶³ã‚Šãªã„ã‚‚ã®ã‚’ç›—ã‚€ã€‚" },
            { c: "attract", icon: "ğŸ“¢", t: "ååˆºä»£ã‚ã‚Šã®ã‚·ãƒ§ãƒƒãƒ—ã‚«ãƒ¼ãƒ‰", d: "è²¡å¸ƒã«å…¥ã‚Œã‚„ã™ã„ã‚µã‚¤ã‚ºã®ã‚·ãƒ§ãƒƒãƒ—ã‚«ãƒ¼ãƒ‰ã‚’ä½œã‚‹ã€‚QRã‚³ãƒ¼ãƒ‰ã‚’è¼‰ã›ã¦SNSã¸èª˜å°ã€‚" },
            { c: "attract", icon: "ğŸ“¢", t: "ã€Œæ˜ ãˆã€ã‚¹ãƒãƒƒãƒˆã‚’ä½œã‚‹", d: "åº—å†…ã«1ç®‡æ‰€ã€å†™çœŸã‚’æ’®ã‚ŠãŸããªã‚‹èƒŒæ™¯ã‚„ç…§æ˜ã‚’ç”¨æ„ã™ã‚‹ã€‚ãŠå®¢æ§˜ãŒå‹æ‰‹ã«å®£ä¼ã—ã¦ãã‚Œã‚‹ã€‚" },
            { c: "fan", icon: "ğŸ’–", t: "ãŠé€šã—ã®ã‚¯ã‚ªãƒªãƒ†ã‚£", d: "ãŠé€šã—ãŒç¾å‘³ã—ã„åº—ã¯æ–™ç†ã‚‚æœŸå¾…ã§ãã‚‹ã€‚æ‰‹æŠœãå³ç¦ã€‚" },
            { c: "efficiency", icon: "â±", t: "ãƒ‰ãƒªãƒ³ã‚¯æä¾›ã‚¹ãƒ”ãƒ¼ãƒ‰", d: "ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆãƒ‰ãƒªãƒ³ã‚¯ã¯3åˆ†ä»¥å†…ã€‚å¾…ãŸã›ã‚‹ã¨æº€è¶³åº¦ãŒæ€¥æ¿€ã«ä¸‹ãŒã‚‹ã€‚" },
            { c: "fan", icon: "ğŸ’–", t: "ã‚¯ãƒ¬ãƒ¼ãƒ ã¯å®", d: "ã‚¯ãƒ¬ãƒ¼ãƒ ã“ãæ”¹å–„ã®ãƒ’ãƒ³ãƒˆã€‚è¨€ã„è¨³ã›ãšèãã€è¿…é€Ÿã«å¯¾å¿œã™ã‚Œã°é€†ã«ãƒ•ã‚¡ãƒ³ã«ãªã‚‹ã“ã¨ã‚‚ã‚ã‚‹ã€‚" },
            { c: "env", icon: "ğŸ ", t: "å­£ç¯€æ„Ÿã®æ¼”å‡º", d: "æ˜¥ã¯æ¡œã€å¤ã¯é¢¨éˆ´ãªã©ã€åº—å†…ã®è£…é£¾ã§å­£ç¯€æ„Ÿã‚’å‡ºã™ã€‚é£½ãã•ã›ãªã„å·¥å¤«ã€‚" },
            { c: "efficiency", icon: "â±", t: "åŸä¾¡ç‡ã®ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«", d: "ãƒ•ãƒ¼ãƒ‰ã¯åŸä¾¡ç‡ã‚’æŠ‘ãˆã€ãƒ‰ãƒªãƒ³ã‚¯ã§åˆ©ç›Šã‚’å‡ºã™ã®ãŒåŸºæœ¬ã€‚ãƒ­ã‚¹ã‚’æ¸›ã‚‰ã™åœ¨åº«ç®¡ç†ã‚’å¾¹åº•ã€‚" },
            { c: "staff", icon: "ğŸ¤", t: "ã‚¢ãƒ«ãƒã‚¤ãƒˆã®ãƒ¢ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³", d: "å…·ä½“çš„ãªæ•°å­—ã§è¤’ã‚ã‚‹ã€‚ã€Œæ˜¨æ—¥ã¯å£²ä¸Šã€‡ã€‡å††é”æˆã—ãŸã­ï¼ã€ãªã©ã€‚ã‚„ã‚‹æ°—ã‚’å¼•ãå‡ºã™ã€‚" },
            { c: "sales", icon: "ğŸ’°", t: "è²¸åˆ‡å–¶æ¥­ã®ç²å¾—", d: "çµå©šå¼ã®äºŒæ¬¡ä¼šã‚„æ­“é€è¿ä¼šãƒ—ãƒ©ãƒ³ã‚’ä½œã‚‹ã€‚ã¾ã¨ã¾ã£ãŸå£²ä¸Šã‚’ä½œã‚‹æŸ±ã«ãªã‚‹ã€‚" },
            { c: "fan", icon: "ğŸ’–", t: "ãƒ¬ã‚·ãƒ¼ãƒˆã«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸", d: "ãƒ¬ã‚·ãƒ¼ãƒˆã®è£ã«æ‰‹æ›¸ãã§ã€Œã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸã€ã¨ä¸€è¨€ã€‚æ¨ã¦ã‚‰ã‚Œãšã«æ®‹ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã€‚" },
            { c: "env", icon: "ğŸ ", t: "æš‡ãªæ™‚ã“ãæƒé™¤", d: "ã‚¢ã‚¤ãƒ‰ãƒ«ã‚¿ã‚¤ãƒ ã¯æƒé™¤ã®ãƒãƒ£ãƒ³ã‚¹ã€‚æ™®æ®µè¦‹ãˆãªã„å ´æ‰€ï¼ˆãƒœãƒˆãƒ«æ£šã®å¥¥ãªã©ï¼‰ã‚’ç£¨ãã€‚" },
            { c: "staff", icon: "ğŸ¤", t: "èº«ã ã—ãªã¿ã®åŸºæº–", d: "æ¸…æ½”æ„Ÿã¯çµ¶å¯¾ã€‚é«ªå‹ã€çˆªã€åˆ¶æœã®æ±šã‚Œã€‚ã‚¹ã‚¿ãƒƒãƒ•åŒå£«ã§ãƒã‚§ãƒƒã‚¯ã—åˆã†ã€‚" },
            { c: "staff", icon: "ğŸ¤", t: "äºˆç´„é›»è©±ã®å¯¾å¿œ", d: "é›»è©±å¯¾å¿œã®å£°ã®ãƒˆãƒ¼ãƒ³ã¯ã€Œã‚½ã€ã®éŸ³ã§æ˜ã‚‹ãã€‚é¡”ãŒè¦‹ãˆãªã„åˆ†ã€å£°ã§æ­“è¿ã‚’ä¼ãˆã‚‹ã€‚" },
            { c: "staff", icon: "ğŸ¤", t: "æ¥½ã—ã‚€ã“ã¨", d: "åº—é•·ã‚„ã‚¹ã‚¿ãƒƒãƒ•ãŒæ¥½ã—ã‚“ã§ã„ãªã„åº—ã«ãŠå®¢æ§˜ã¯æ¥ãªã„ã€‚ã¾ãšã¯è‡ªåˆ†ãŒæœ€é«˜ã«æ¥½ã—ã‚€ã“ã¨ã€‚" }
        ];

        // Event Data
        const monthEvents = {
            "1": ["ãŠæ­£æœˆ", "æˆäººã®æ—¥", "æ–°å¹´ä¼š", "é¡é–‹ã"],
            "2": ["ç¯€åˆ†", "ãƒãƒ¬ãƒ³ã‚¿ã‚¤ãƒ³", "å»ºå›½è¨˜å¿µã®æ—¥"],
            "3": ["ã²ãªç¥­ã‚Š", "ãƒ›ãƒ¯ã‚¤ãƒˆãƒ‡ãƒ¼", "å’æ¥­å¼", "æ˜¥åˆ†ã®æ—¥"],
            "4": ["ã‚¨ã‚¤ãƒ—ãƒªãƒ«ãƒ•ãƒ¼ãƒ«", "ãŠèŠ±è¦‹", "å…¥å­¦å¼", "æ˜­å’Œã®æ—¥"],
            "5": ["GW", "ã“ã©ã‚‚ã®æ—¥", "æ¯ã®æ—¥", "äº”æœˆç—…å¯¾ç­–"],
            "6": ["çˆ¶ã®æ—¥", "æ¢…é›¨å…¥ã‚Š", "å¤è‡³"],
            "7": ["ä¸ƒå¤•", "æµ·ã®æ—¥", "æš‘ä¸­è¦‹èˆã„"],
            "8": ["å±±ã®æ—¥", "ãŠç›†", "å¤ç¥­ã‚Š", "èŠ±ç«å¤§ä¼š"],
            "9": ["æ•¬è€ã®æ—¥", "ç§‹åˆ†ã®æ—¥", "ãŠæœˆè¦‹"],
            "10": ["ã‚¹ãƒãƒ¼ãƒ„ã®æ—¥", "ãƒãƒ­ã‚¦ã‚£ãƒ³", "è¡£æ›¿ãˆ"],
            "11": ["æ–‡åŒ–ã®æ—¥", "å‹¤åŠ´æ„Ÿè¬ã®æ—¥", "ãƒœã‚¸ãƒ§ãƒ¬ãƒ¼è§£ç¦", "ã„ã„å¤«å©¦ã®æ—¥"],
            "12": ["ã‚¯ãƒªã‚¹ãƒã‚¹", "å¤§æ™¦æ—¥", "å¿˜å¹´ä¼š", "å†¬è‡³"]
        };

        // Theme Definitions
        const themes = {
            gold:   { color: '#C5A059', grad: 'linear-gradient(135deg, #EBD197, #C5A059, #967838)' },
            red:    { color: '#E63946', grad: 'linear-gradient(135deg, #ff8a80, #e53935, #b71c1c)' },
            blue:   { color: '#4A90E2', grad: 'linear-gradient(135deg, #82b1ff, #2979ff, #0d47a1)' },
            green:  { color: '#2A9D8F', grad: 'linear-gradient(135deg, #b9f6ca, #00c853, #00600f)' },
            purple: { color: '#9D4EDD', grad: 'linear-gradient(135deg, #ea80fc, #aa00ff, #4a148c)' }
        };

        // Templates
        const templates = {
            weekend: {
                polite: "ã“ã‚“ã°ã‚“ã¯ã€INSERT_SHOPã§ã™ã€‚\nä¸€é€±é–“ãŠç–²ã‚Œæ§˜ã§ã—ãŸã€‚\n\né‡‘æ›œæ—¥ã®å¤œã€ã„ã‹ãŒãŠéã”ã—ã§ã—ã‚‡ã†ã‹ã€‚\nå½“åº—ã§ã¯ã€è½ã¡ç€ã„ãŸç©ºé–“ã¨ç¾å‘³ã—ã„ãŠé…’ã‚’ã”ç”¨æ„ã—ã¦ãŠã‚Šã¾ã™ã€‚\n\nãŠä»•äº‹å¸°ã‚Šã®ãƒªã‚»ãƒƒãƒˆã«ã€è»½ããƒ€ãƒ¼ãƒ„ã¯ã„ã‹ãŒã§ã™ã‹ï¼Ÿ\nçš†æ§˜ã®ã”æ¥åº—ã‚’å¿ƒã‚ˆã‚ŠãŠå¾…ã¡ã—ã¦ãŠã‚Šã¾ã™ã€‚\n\n#è¯é‡‘ #å¤§äººã®éš ã‚Œå®¶",
                friendly: "ãŠç–²ã‚Œæ§˜ã§ã™ãƒ¼ï¼ğŸº\né‡‘æ›œæ—¥ã‚­ã‚¿ãƒ¼ãƒ¼ãƒ¼ï¼âœ¨\n\nä¸€é€±é–“é ‘å¼µã£ãŸè‡ªåˆ†ã¸ã®ã”è¤’ç¾ã€æ±ºã¾ã‚Šã¾ã—ãŸï¼Ÿ\nã¾ã ãªã‚‰ã‚¦ãƒã§ä¹¾æ¯ã—ã¾ã—ã‚‡ï¼ğŸ»\n\nãƒ€ãƒ¼ãƒ„ã§ã‚¹ã‚«ãƒƒã¨ã—ã¦ã€ç¾å‘³ã—ã„ãŠé…’é£²ã‚“ã§ã€‚\næœ€é«˜ã®é€±æœ«ã‚¹ã‚¿ãƒ¼ãƒˆã‚’ãŠæ‰‹ä¼ã„ã—ã¾ã™ï¼\nå¾…ã£ã¦ã¾ã™ã‚ˆãƒ¼ï¼\n\n#è¯é‡‘ #ä¹¾æ¯ #é€±æœ«",
                passion: "è¯é‡‘ã ã‚ªãƒ©ã‚¡ï¼ï¼ğŸ”¥ğŸº\n\nä»•äº‹ã®ç–²ã‚Œï¼Ÿãã‚“ãªã‚‚ã‚“é…’ã¨ãƒ€ãƒ¼ãƒ„ã§å¹ãé£›ã°ã›ï¼ï¼ğŸ’¥\n\nä»Šå¤œã¯æœã¾ã§ã‚³ãƒ¼ã‚¹ç¢ºå®šã§ã—ã‚‡ï¼ï¼Ÿ\nã‚¹ã‚¿ãƒƒãƒ•ã‚‚æ°—åˆå…¥ã£ã¦ã¾ã™ï¼ï¼\n\nè² ã‘ãƒ†ã‚­ãƒ¼ãƒ©ä¸Šç­‰ãªçŒ›è€…ã€ã‹ã‹ã£ã¦ã“ã„ã‚„ãƒ¼ï¼ï¼ï¼ˆç¬‘ï¼‰\né£²ã‚€ããƒ¼ï¼ï¼\n\n#è¯é‡‘ #ç¥­ã‚Š #é…’é£²ã¿"
            },
            rain: {
                polite: "ã‚ã„ã«ãã®é›¨æ¨¡æ§˜ã§ã™ã­â˜”\nãŠè¶³å…ƒã®æ‚ªã„ä¸­ã§ã™ãŒã€åº—å†…ã¯æš–ã‹ãã—ã¦ãŠã‚Šã¾ã™ã€‚\n\né›¨éŸ³ã‚’èããªãŒã‚‰ã€ã‚†ã£ãã‚Šã¨ã‚°ãƒ©ã‚¹ã‚’å‚¾ã‘ã‚‹ã®ã‚‚ã¾ãŸä¸€èˆˆã§ã™ã€‚\né›¨å®¿ã‚ŠãŒã¦ã‚‰ã€ãœã²ãŠç«‹ã¡å¯„ã‚Šãã ã•ã„ã€‚\næ¸©ã‹ã„ã‚¹ãƒ¼ãƒ—ã‚‚ã”ç”¨æ„ã§ãã¾ã™ã€‚\n\n#é›¨ã®æ—¥ #é›¨å®¿ã‚Š",
                friendly: "é›¨é™ã£ã¦ãã¡ã‚ƒã„ã¾ã—ãŸã­â€¦â˜”ğŸ˜­\né´æ¿¡ã‚Œã‚‹ã¨ãƒ†ãƒ³ã‚·ãƒ§ãƒ³ä¸‹ãŒã‚Šã¾ã™ã‚ˆã­ğŸ’¦\n\nãã‚“ãªæ™‚ã¯ï¼\nãŠåº—ã§é›¨å®¿ã‚Šãƒ€ãƒ¼ãƒ„ã—ã¾ã›ã‚“ã‹ï¼ŸğŸ¯\n\nã€ŒSNSè¦‹ãŸã€ã§ãƒãƒ£ãƒ¼ã‚¸ã‚µãƒ¼ãƒ“ã‚¹ã—ã¡ã‚ƒã†ã‹ã‚‚ï¼ï¼Ÿ\né›¨ã®æ—¥ã“ãã¾ã£ãŸã‚Šèªã‚Šã¾ã—ã‚‡ãƒ¼ï¼\n\n#é›¨ #é›¨å®¿ã‚Š #ãƒ€ãƒ¼ãƒ„",
                passion: "é›¨ã ãƒ¼ãƒ¼ãƒ¼ï¼ï¼â˜”\næš‡ã ãƒ¼ãƒ¼ãƒ¼ãƒ¼ï¼ï¼ï¼ˆç¬‘ï¼‰\n\næ­£ç›´ã«è¨€ã„ã¾ã™ã€åŠ©ã‘ã¦ãã ã•ã„ï¼ï¼ğŸ™‡â€â™‚ï¸\nä»Šãªã‚‰ãƒ€ãƒ¼ãƒ„æŠ•ã’æ”¾é¡ŒçŠ¶æ…‹ã§ã™ï¼ï¼\n\nã‚³ã‚½ç·´ã™ã‚‹ãªã‚‰ä»Šã—ã‹ãªã„ï¼ï¼\nãšã¶æ¿¡ã‚Œã§æ¥ãŸå‹‡è€…ã«ã¯ã‚µãƒ¼ãƒ“ã‚¹ã—ã¡ã‚ƒã†ãœï¼ï¼\n\n#é›¨ #æš‡ #åŠ©ã‘ã¦"
            },
            thanks: {
                polite: "ã„ã¤ã‚‚å½“åº—ã‚’ã”åˆ©ç”¨ã„ãŸã ãã€ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ã€‚\næ˜¨æ—¥ã‚‚ç´ æ•µãªãŠå®¢æ§˜ã¨ã®å‡ºä¼šã„ã«æ„Ÿè¬ã§ã™ã€‚\n\nãƒ€ãƒ¼ãƒ„ã‚’é€šã˜ã¦åºƒãŒã‚‹è¼ªãŒã€ç§é”ã®å®ç‰©ã§ã™ã€‚\nã“ã‚Œã‹ã‚‰ã‚‚å±…å¿ƒåœ°ã®è‰¯ã„å ´æ‰€ã§ã‚ã‚Œã‚‹ã‚ˆã†åŠªã‚ã¾ã™ã€‚\n\n#æ„Ÿè¬ #ã”ç¸",
                friendly: "æ˜¨æ—¥ã‚‚ãŸãã•ã‚“ã®ã”æ¥åº—ã‚ã‚ŠãŒã¨ã§ã—ãŸï¼âœ¨\n\nåˆã‚ã¦ã®ãŠå®¢ã•ã‚“ã¨å¸¸é€£ã•ã‚“ãŒãƒã‚¤ã‚¿ãƒƒãƒã—ã¦ã‚‹å…‰æ™¯ã€\nè¦‹ã¦ã¦æœ€é«˜ã«ã‚¨ãƒ¢ã‹ã£ãŸã§ã™ğŸ¥º\n\nã‚„ã£ã±ã‚Šãƒ€ãƒ¼ãƒ„ã£ã¦ã„ã„ã§ã™ã­ï¼\nä»Šæ—¥ã‚‚ã¿ã‚“ãªã§ç¬‘ã„ã¾ã—ã‚‡ã†ï¼\n\n#æ„Ÿè¬ #ä»²é–“ #ãƒ€ãƒ¼ãƒ„å¥½ã",
                passion: "æ˜¨æ—¥ã¯ãƒã‚¸ã§æœ€é«˜ãªå¤œã‚’ã‚µãƒ³ã‚­ãƒ¥ãƒ¼ï¼ï¼ğŸ”¥\n\nã¿ã‚“ãªã®ç¬‘é¡”ã¨ãƒ€ãƒ¼ãƒ„ã®éŸ³ãŒä¿ºã®ã‚¬ã‚½ãƒªãƒ³ã§ã™ï¼ï¼â›½\n\nä»Šæ—¥ã‚‚æ˜¨æ—¥ä»¥ä¸Šã«ç››ã‚Šä¸Šã’ã¦ãã‚“ã§ã€\nã¤ã„ã¦ã“ã‚Œã‚‹å¥´ã ã‘ã¤ã„ã¦ã“ã„ï¼ï¼ï¼ˆç¬‘ï¼‰\næ„›ã—ã¦ã‚‹ãœã¿ã‚“ãªï¼ï¼\n\n#æœ€é«˜ #çµ† #ç†±ã„å¤œ"
            },
            empty: {
                polite: "ç¾åœ¨ã®ç©ºå¸­çŠ¶æ³ã®ãŠçŸ¥ã‚‰ã›ã§ã™ã€‚\nãŸã ã„ã¾ãŠå¸­ã«ä½™è£•ãŒã”ã–ã„ã¾ã™ã€‚\n\né™ã‹ãªåº—å†…ã§ã€é›†ä¸­ã—ã¦ç·´ç¿’ã•ã‚ŒãŸã„æ–¹ã«ã¯æœ€é©ãªæ™‚é–“ã§ã™ã€‚\nã‚¹ã‚¿ãƒƒãƒ•ãŒãƒ¬ã‚¯ãƒãƒ£ãƒ¼ã‚‚å¯èƒ½ã§ã™ã®ã§ã€ãŠæ°—è»½ã«ãŠè¶Šã—ãã ã•ã„ã€‚\n\n#ç©ºå¸­æƒ…å ± #ç·´ç¿’",
                friendly: "ã€é€Ÿå ±ã€‘ä»Šâ€¦ç©ºã„ã¦ã¾ã™ï¼ï¼ğŸ‘€\n\nã‚³ã‚½ç·´ã™ã‚‹ãªã‚‰ä»ŠãŒãƒãƒ£ãƒ³ã‚¹ã§ã™ğŸ¯\nã‚¹ã‚¿ãƒƒãƒ•ã‚‚æ‰‹ãŒç©ºã„ã¦ã‚‹ã‚“ã§ã€å¯¾æˆ¦ç›¸æ‰‹ã«ãªã‚Šã¾ã™ã‚ˆï¼ï¼ˆæ‰‹åŠ æ¸›ãªã—ç¬‘ï¼‰\n\nãµã‚‰ã£ã¨ä¸€æ¯ã ã‘ã§ã‚‚å¤§æ­“è¿ã§ã™âœ¨\n\n#ç©ºã„ã¦ã¾ã™ #ã‚³ã‚½ç·´ #ãƒãƒ£ãƒ³ã‚¹",
                passion: "ç·Šæ€¥äº‹æ…‹ç™ºç”Ÿï¼ï¼ğŸš¨\n\nåº—ãŒâ€¦é™ã‹ã™ãã‚‹ï¼ï¼ï¼ˆç¬‘ï¼‰\nå¯‚ã—ãã¦æ­»ã«ãã†ã§ã™ï¼ï¼ğŸ‘»\n\nä»Šãªã‚‰ã€ŒæŠ•ã’æ”¾é¡Œã€ã¿ãŸã„ãªã‚‚ã‚“ã§ã™ï¼\nä¿ºã¨å‹è² ã—ã¦å‹ã£ãŸã‚‰ä¸€æ¯å¥¢ã‚‹ã‚ï¼ï¼\næŒ‘æˆ¦è€…æ±‚ã‚€ï¼ï¼æ€¥ã’ï¼ï¼ğŸ’¨\n\n#ç·Šæ€¥å‹Ÿé›† #å¯¾æ±º #å¯‚ã—ã„"
            }
        };

        const quests = [
            "ãŠå®¢æ§˜ã®åå‰ã‚’1äººè¦šãˆã‚‹ã¹ã—",
            "ãƒãƒƒãƒˆãƒˆãƒªãƒƒã‚¯ãŒå‡ºãŸã‚‰èª°ã‚ˆã‚Šå¤§å£°ã§å«ã¶ã¹ã—",
            "ãŠå®¢æ§˜ã¨ãƒã‚¤ã‚¿ãƒƒãƒã‚’3å›ã™ã‚‹ã¹ã—",
            "ç©ºãã‚°ãƒ©ã‚¹ã«10ç§’ä»¥å†…ã«æ°—ã¥ãã¹ã—",
            "ä¸€äººå®¢ã«ã€ŒãƒŠã‚¤ã‚¹ï¼ã€ã¨å£°ã‚’ã‹ã‘ã‚‹ã¹ã—",
            "ã‚¹ã‚¿ãƒƒãƒ•åŒå£«ã€Œã‚ã‚ŠãŒã¨ã†ã€ã‚’3å›è¨€ã†ã¹ã—"
        ];

        // --- Init ---
        window.onload = function() {
            loadSettings();
            updateGreeting();
            initSeasonalSelects();
            initHints('all'); // åˆæœŸè¡¨ç¤ºã¯å…¨ã¦
            generateQR();
            initHaptics();
            recommendAction();
        };

        function updateGreeting() {
            const h = new Date().getHours();
            const d = new Date().getDay(); 
            const sub = document.getElementById('greeting-sub');
            const main = document.getElementById('greeting-main');
            
            let s_text = "WELCOME BACK";
            let m_text = "ãŠç–²ã‚Œæ§˜ã§ã™ã€åº—é•·ã€‚";
            
            if (h >= 5 && h < 11) {
                s_text = "é–‹åº—æº–å‚™"; m_text = "ãŠã¯ã‚ˆã†ã”ã–ã„ã¾ã™ã€‚ä»•è¾¼ã¿ã§ã™ã‹ï¼Ÿ";
            } else if (h >= 11 && h < 17) {
                s_text = "é–‹åº—æº–å‚™"; m_text = "æº–å‚™ã¯ä¸‡ç«¯ã§ã™ã‹ï¼Ÿ";
            } else if (h >= 17 && h < 22) {
                s_text = "å–¶æ¥­ä¸­"; m_text = "ã•ã‚ã€é–‹åº—ã®ãŠæ™‚é–“ã§ã™ï¼";
                if(d === 5) m_text = "é‡‘æ›œæ—¥ã®å¤œï¼æ°—åˆå…¥ã‚Œã¾ã—ã‚‡ã†ğŸ”¥";
            } else if (h >= 22 || h < 5) {
                s_text = "æ·±å¤œå–¶æ¥­"; m_text = "æ·±å¤œå–¶æ¥­ã€ãŠç–²ã‚Œæ§˜ã§ã™â˜•";
            }
            sub.innerText = s_text;
            main.innerText = m_text;
        }
        
        function recommendAction() {
            const d = new Date().getDay();
            if(d === 5 || d === 6) {
                document.getElementById('btn-weekend').classList.add('active-rec');
            }
        }

        function initHaptics() {
            document.querySelectorAll('.touch-feedback').forEach(el => {
                el.addEventListener('click', () => {
                    if (navigator.vibrate) navigator.vibrate(10);
                });
            });
        }

        // --- Logic ---
        function setTone(t, el) {
            currentTone = t;
            document.querySelectorAll('.tone-btn').forEach(b => b.classList.remove('active'));
            el.classList.add('active');
        }

        function setSns(s, el) {
            currentSns = s;
            document.querySelectorAll('.sns-chip').forEach(c => c.classList.remove('active'));
            el.classList.add('active');
        }

        // --- Seasonal Logic ---
        function initSeasonalSelects() {
            const mSelect = document.getElementById('month-select');
            // 1æœˆã€œ12æœˆã‚’è¿½åŠ 
            for(let i=1; i<=12; i++) {
                const opt = document.createElement('option');
                opt.value = i;
                opt.textContent = i + 'æœˆ';
                mSelect.appendChild(opt);
            }
            // ä»Šæœˆã‚’é¸æŠçŠ¶æ…‹ã«
            const currentMonth = new Date().getMonth() + 1;
            mSelect.value = currentMonth;
            onMonthChange(); // ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒˆæ›´æ–°
        }

        function onMonthChange() {
            const mSelect = document.getElementById('month-select');
            const eSelect = document.getElementById('event-select');
            const m = mSelect.value;
            
            eSelect.innerHTML = '<option value="">è¡Œäº‹ã‚’é¸æŠ</option>';
            
            if(m && monthEvents[m]) {
                monthEvents[m].forEach(evt => {
                    const opt = document.createElement('option');
                    opt.value = evt;
                    opt.textContent = evt;
                    eSelect.appendChild(opt);
                });
                eSelect.disabled = false;
            } else {
                eSelect.disabled = true;
            }
        }

        function onEventChange() {
            const mSelect = document.getElementById('month-select');
            const eSelect = document.getElementById('event-select');
            const month = mSelect.value;
            const eventName = eSelect.value;
            
            if(month && eventName) {
                generateSeasonalPost(month, eventName);
            }
        }

        function generateSeasonalPost(month, eventName) {
            if(navigator.vibrate) navigator.vibrate(10);
            
            // ç°¡æ˜“çš„ãªãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆç”Ÿæˆãƒ­ã‚¸ãƒƒã‚¯
            let baseText = "";
            
            if (currentTone === 'polite') {
                baseText = `ã€${month}æœˆã®ã”æ¡ˆå†…ï¼š${eventName}ã€‘\n\nå­£ç¯€ã®å¤‰ã‚ã‚Šç›®ã€ã„ã‹ãŒãŠéã”ã—ã§ã—ã‚‡ã†ã‹ã€‚\nä»Šæœˆã®${eventName}ã«åˆã‚ã›ã¦ã€å½“åº—ã§ã¯ç‰¹åˆ¥ãªæ™‚é–“ã‚’ã”ç”¨æ„ã—ã¦ãŠã‚Šã¾ã™ã€‚\n\né™ã‹ãªåº—å†…ã§ã€å­£ç¯€ã‚’æ„Ÿã˜ãªãŒã‚‰ã‚°ãƒ©ã‚¹ã‚’å‚¾ã‘ã¾ã›ã‚“ã‹ï¼Ÿ\nçš†æ§˜ã®ã”æ¥åº—ã‚’å¿ƒã‚ˆã‚ŠãŠå¾…ã¡ã—ã¦ãŠã‚Šã¾ã™ã€‚`;
            } else if (currentTone === 'friendly') {
                baseText = `ã€${eventName}ã®å­£ç¯€ã§ã™ã­ï¼ã€‘\n\n${month}æœˆã«ãªã‚Šã¾ã—ãŸï¼âœ¨\nãã‚ãã‚${eventName}ã®æ™‚æœŸã§ã™ãŒã€äºˆå®šã¯æ±ºã¾ã‚Šã¾ã—ãŸã‹ï¼Ÿ\n\nã¾ã ãªã‚‰å½“åº—ã§ä¹¾æ¯ã—ã¾ã—ã‚‡ã†ï¼ğŸ»\nå­£ç¯€é™å®šã®ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚‚ç”¨æ„ã—ã¦å¾…ã£ã¦ã¾ã™ï¼\nã¿ã‚“ãªã§ç››ã‚Šä¸ŠãŒã‚Šã¾ã—ã‚‡ãƒ¼ï¼`;
            } else { // passion
                baseText = `ã€${eventName}ã ã‚ªãƒ©ã‚¡ï¼ï¼ã€‘\n\n${month}æœˆçªå…¥ï¼ï¼ğŸ”¥\n${eventName}ã¨ã‹é–¢ä¿‚ã­ã‡ï¼é£²ã‚€ããƒ¼ãƒ¼ï¼ï¼ï¼ˆç¬‘ï¼‰\n\nã„ã‚„ã€ã‚„ã£ã±é–¢ä¿‚ã‚ã‚‹ã‚ï¼\n${eventName}ã«ã‹ã“ã¤ã‘ã¦é¨’ããŸã„å¥´ã€å…¨å“¡é›†åˆï¼ï¼\næœã¾ã§ä»˜ãåˆã†ãœï¼ï¼`;
            }

            const box = document.getElementById('result-box');
            box.value = baseText + `\n\n#${eventName} #${month}æœˆ #INSERT_SHOP`;
            
            finalizeGeneration();
        }

        function generate(key) {
            if(navigator.vibrate) navigator.vibrate([15]);
            const box = document.getElementById('result-box');
            let text = templates[key][currentTone];
            if(!text) return;
            box.value = text;
            finalizeGeneration();
        }

        function finalizeGeneration() {
            const box = document.getElementById('result-box');
            let text = box.value;
            
            // ç½®æ›
            text = text.replace(/INSERT_SHOP/g, shopName);
            const tags = `#${shopName.replace(/\s/g,'')} #${shopArea} #ãƒ€ãƒ¼ãƒ„ãƒãƒ¼`;
            
            if(currentSns === 'instagram') {
                text += `\n\n.\n.\nğŸ“ ${shopName} (${shopArea})\nğŸ”— ${shopUrl}\n${tags}`;
            } else if(currentSns === 'facebook') {
                text += `\n\nğŸ“ ${shopName}\nğŸŒ ${shopUrl}`;
            } else if(currentSns === 'line') {
                text += `\n\nğŸ‘‡ äºˆç´„ãƒ»è©³ç´°ã¯ã“ã¡ã‚‰\n${shopUrl}`;
            } else if(currentSns === 'x') {
                text += `\n\n${shopUrl}\n${tags}`;
            }

            box.value = text;
            
            document.getElementById('copy-btn').classList.remove('hide');
            // ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«
            document.getElementById('preview-anchor').scrollIntoView({behavior:'smooth', block:'center'});
        }

        function copyText() {
            const box = document.getElementById('result-box');
            box.select();
            document.execCommand('copy');
            if(navigator.vibrate) navigator.vibrate([10, 30, 10]);
            showToast('ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸï¼');
        }

        function showToast(msg) {
            const t = document.getElementById('toast');
            document.getElementById('toast-msg').innerText = msg;
            t.classList.add('show');
            setTimeout(()=>t.classList.remove('show'), 2000);
        }

        function switchTab(id, el) {
            document.querySelectorAll('.tab-content').forEach(d=>d.style.display='none');
            document.getElementById('tab-'+id).style.display='block';
            document.querySelectorAll('.nav-btn').forEach(b=>b.classList.remove('active'));
            el.classList.add('active');
            window.scrollTo(0,0);
        }

        function toggleAcc(btn) {
            btn.classList.toggle('open');
            const content = btn.nextElementSibling;
            content.style.display = (content.style.display==='block') ? 'none' : 'block';
        }
        
        function toggleHint(el) {
            el.classList.toggle('open');
            if(navigator.vibrate) navigator.vibrate(10);
        }

        function toggleTip(card) {
            card.classList.toggle('open');
            if(navigator.vibrate) navigator.vibrate(10);
        }

        function startQuest() {
            const q = document.getElementById('quest-text');
            q.innerHTML = '<i class="fa-solid fa-spinner fa-spin"></i>';
            setTimeout(()=>{
                q.innerText = quests[Math.floor(Math.random()*quests.length)];
                if(navigator.vibrate) navigator.vibrate([10,50,10]);
            }, 600);
        }
        
        // --- Hint Filter Logic ---
        function filterHints(cat, el) {
            // UI Update
            document.querySelectorAll('.hint-cat-chip').forEach(c => c.classList.remove('active'));
            if(el) el.classList.add('active');
            
            initHints(cat);
            if(navigator.vibrate) navigator.vibrate(10);
        }

        function initHints(category = 'all') {
            const container = document.getElementById('hints-container');
            container.innerHTML = ''; // Clear previous
            
            let count = 0;
            managementHints.forEach((h, idx) => {
                if(category !== 'all' && h.c !== category) return;
                
                count++;
                const div = document.createElement('div');
                div.className = 'hint-item';
                div.onclick = function() { toggleHint(this); };
                div.innerHTML = `
                    <div class="hint-head">
                        <div class="hint-head-left">
                            <span class="hint-icon">${h.icon}</span>
                            <span>${h.t}</span>
                        </div>
                        <i class="fa-solid fa-chevron-down" style="font-size:0.8rem;"></i>
                    </div>
                    <div class="hint-body">${h.d}</div>
                `;
                container.appendChild(div);
            });
            
            if(count === 0) {
                container.innerHTML = '<div style="text-align:center; padding:20px; color:gray;">è©²å½“ã™ã‚‹ãƒ’ãƒ³ãƒˆã¯ã‚ã‚Šã¾ã›ã‚“</div>';
            }
        }

        // Settings Modal
        function openModal(id, show=true){
            const m = document.getElementById(id);
            if(show){
                m.style.display='flex'; setTimeout(()=>m.classList.add('show'),10);
                if(id==='settings-modal'){
                    document.getElementById('shop-name').value = shopName;
                    document.getElementById('shop-area').value = shopArea;
                    document.getElementById('shop-url').value = shopUrl;
                    document.getElementById('review-url').value = reviewUrl;
                    updateThemeSelector();
                    updateBgModeSelector();
                }
            }else{
                m.classList.remove('show'); setTimeout(()=>m.style.display='none',300);
            }
        }

        function changeTheme(themeName, el) {
            currentTheme = themeName;
            updateThemeSelector();
        }

        function updateThemeSelector() {
            document.querySelectorAll('.color-opt').forEach(el => el.classList.remove('selected'));
            document.querySelector(`.color-opt.${currentTheme}`).classList.add('selected');
        }

        function setBgMode(mode) {
            currentBgMode = mode;
            updateBgModeSelector();
            applyBgMode(mode);
        }

        function updateBgModeSelector() {
            document.querySelectorAll('.mode-opt').forEach(el => el.classList.remove('active'));
            document.getElementById(`mode-${currentBgMode}`).classList.add('active');
        }

        function applyBgMode(mode) {
            if(mode === 'light') {
                document.body.classList.add('light-mode');
            } else {
                document.body.classList.remove('light-mode');
            }
        }

        function applyTheme(themeName) {
            const t = themes[themeName];
            const root = document.documentElement.style;
            root.setProperty('--primary-color', t.color);
            root.setProperty('--primary-gradient', t.grad);
        }

        function saveSettings(){
            shopName = document.getElementById('shop-name').value;
            shopArea = document.getElementById('shop-area').value;
            shopUrl = document.getElementById('shop-url').value;
            reviewUrl = document.getElementById('review-url').value;
            
            localStorage.setItem('mjs_name', shopName);
            localStorage.setItem('mjs_area', shopArea);
            localStorage.setItem('mjs_shop_url', shopUrl);
            localStorage.setItem('mjs_review_url', reviewUrl);
            localStorage.setItem('mjs_theme', currentTheme);
            localStorage.setItem('mjs_bg_mode', currentBgMode);
            
            applyTheme(currentTheme);
            applyBgMode(currentBgMode);
            updateHeaderShopName(); // åº—åæ›´æ–°
            
            generateQR();
            openModal('settings-modal', false);
            showToast('è¨­å®šã‚’ä¿å­˜ã—ã¾ã—ãŸ');
        }

        function loadSettings(){
            shopName = localStorage.getItem('mjs_name') || 'å½“åº—';
            shopArea = localStorage.getItem('mjs_area') || '';
            shopUrl = localStorage.getItem('mjs_shop_url') || '';
            reviewUrl = localStorage.getItem('mjs_review_url') || '';
            currentTheme = localStorage.getItem('mjs_theme') || 'gold';
            currentBgMode = localStorage.getItem('mjs_bg_mode') || 'dark';
            
            applyTheme(currentTheme);
            applyBgMode(currentBgMode);
            updateHeaderShopName(); // åº—åæ›´æ–°
        }

        function updateHeaderShopName() {
            const el = document.getElementById('header-shop-name');
            if (el) el.textContent = shopName;
        }

        function fillDemoData() {
            document.getElementById('shop-name').value = 'ãƒ€ãƒ¼ãƒ„ãƒãƒ¼MJS å…­æœ¬æœ¨åº—';
            document.getElementById('shop-area').value = 'å…­æœ¬æœ¨';
            document.getElementById('shop-url').value = 'https://mjs-co.net/darts';
            document.getElementById('review-url').value = 'https://g.page/demo-review';
            currentTheme = 'red'; // ãƒ‡ãƒ¢ç”¨ã«æ´¾æ‰‹ãªè‰²ã¸
            saveSettings();
            showToast('ãƒ‡ãƒ¢ãƒ‡ãƒ¼ã‚¿åæ˜ å®Œäº†ï¼');
        }

        function clearDemoData() {
            document.getElementById('shop-name').value = '';
            document.getElementById('shop-area').value = '';
            document.getElementById('shop-url').value = '';
            document.getElementById('review-url').value = '';
            currentTheme = 'gold';
            saveSettings();
            showToast('ãƒ‡ãƒ¼ã‚¿ã‚’ã‚¯ãƒªã‚¢ã—ã¾ã—ãŸ');
        }

        function generateQR(){
            const box = document.getElementById('qr-display');
            const urlDisp = document.getElementById('qr-url-disp');
            if(reviewUrl){
                box.innerHTML = `<img src="https://api.qrserver.com/v1/create-qr-code/?size=180x180&data=${encodeURIComponent(reviewUrl)}" style="width:100%;">`;
                urlDisp.innerText = reviewUrl;
            }else{
                box.innerText = "QRæœªè¨­å®š";
                urlDisp.innerText = "";
            }
        }
    </script>
</body>
</html>